<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Tiffany's Lab 5</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap Icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
        <!-- SimpleLightbox plugin CSS-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <link rel=stylesheet href="bootstrap.min.css">
        <style>
        body {
          background-image: url('../assets/img/Grid_paper.webp');
          background-repeat: no-repeat;
          background-attachment: fixed; 
          background-size: cover;
        }
        </style>
    </head>
    <body id="page-top">
          
        <!-- About-->
        <section class="page-section bg-warning" id="about">
            <p style="background-image: url('../assets/img/Grid_paper.webp');">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 text-center">
                        <h2> Lab 5: Motors and Open Loop Control</h2>
                        <hr class="divider divider-light" />
                        <p> In this lab, I assembled the entire robot! I first drove the motors using dual motor drivers, opened the Force1 RC car and
                            attached my drivers to the car's motors, and then ran various open loop control tests. </p>
                        
                        <div class="list-group">
                          <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active">
                            <div class="d-flex w-100 justify-content-between">
                              <h5 class="mb-1">Scoping PWM signal</h5>
                            </div>
                            <p class="mb-1">The first task in this lab was to solder the two DRV8833 dual motor drivers to the Artemis board. This
                                was a bit challenging since we are using the dual motor driver to control a single motor each, meaning I needed to
                                solder the AIN1 and BIN1, AIN2 and BIN2, AOUT1 ane BOUT1, and AOUT2 and BOUT2 pins together. I did this by soldering 
                                a wire to partially stick through the board's hole and then bending it around to solder it to the corresponding A/B
                                pin. To check my soldering connections and also verify the functionality of the drivers, I sent a PWM signal from 
                                the Artemis board and scoped the output of the drivers. Here are photos of the scope setup, where the driver is powered
                                by a 3.7V power supply to emulate the 3.7V battery used in the robot, as well as the displayed oscilloscope results:
                              </p>
                          </a>
                        </div>
                        <br>
                        <img src="assets/img/Mac_address.jpg" alt="MAC Address" width=70% height=auto/>
                        
                        <br><br>
                        <div class="list-group">
                          <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                            <div class="d-flex w-100 justify-content-between">
                              <h5 class="mb-1">Driving Motors</h5>
                            </div>
                            <p class="mb-1">First, to establish a BLE connection between the Artemis board and my laptop, I configured the MAC
                              address in the connections.yaml file to match the MAC address of my Artemis board. Then, I generated a unique
                              UUID and configured the UUID of both the devices to match.</p>
                          </a>
                        </div>
                        <br>
                        <img src="assets/img/Arduino_config.png" alt="Arduino code configurations" width=70% height=auto/>
                        <br><br>
                        <img src="assets/img/Python_config.png" alt="Python connection.yaml configurations" width=70% height=auto/>
                        <br><br>
                        
                        <div class="list-group">
                          <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active">
                            <div class="d-flex w-100 justify-content-between">
                              <h5 class="mb-1">Assembled Robot</h5>
                            </div>
                            <p class="mb-1">The demo.ipynb file provided at the start of the lab contains some helpful methods and explanations in addition
                              to code that imports the necessary libraries and establishes a connection between my laptop and the Artemis board. </p>
                          </a>
                        </div>
                        <br>
                        
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/cSMsitG3EjY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        
                        <div class="list-group">
                          <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                            <div class="d-flex w-100 justify-content-between">
                              <h5 class="mb-1">Lower PWM Limit</h5>
                            </div>
                            <p class="mb-1">ECHO: When this command is sent to the Artemis, it echos the message I sent back through Bluetooth. 
                              For example, when I send "QUACK!" over Bluetooth, the robot says "QUACK!" back to me. </p>
                          </a>
                        </div>
                        <br>
                        
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/1BKHIjNflhk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        
                        <div class="list-group">
                          <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active">
                            <div class="d-flex w-100 justify-content-between">
                              <h5 class="mb-1">Calibration</h5>
                            </div>
                            <p class="mb-1">GET_TIME_MILLIS: This command prompts the Artemis to write the time in milliseconds since startup to the
                              string characteristic, where my laptop can read the time value. Time is expressed in the format T:666666, where 666666
                              represents the result of the millis() function call in Arduino. </p>
                          </a>
                        </div>
                        <br>
                        
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/UOIQ0ZDq0n8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                                
                        <div class="list-group">
                          <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                            <div class="d-flex w-100 justify-content-between">
                              <h5 class="mb-1">Open Loop Control</h5>
                            </div>
                            <p class="mb-1">I wrote a notification handler called str_notify_handler() which handles new messages that the Artemis board
                              writes to the BLEStringCharactersitic. When my laptop is notified of a new message, it will process the message as a time
                              value and update the global time variable with the new updated time. This is more convenient and efficient compared to pollling 
                              for new messages using ble.receive_string(ble.uuid['RX_STRING']). </p>
                          </a>
                        </div>
                        <br>
                        
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/oVLml4jqdms" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        
                        <br>
                        <div class="d-grid gap-2">
                           <a class="btn btn-lg btn-primary" href="index.html">Home</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
            
        <!-- Footer-->
        <footer class="bg-light py-5">
            <div class="container px-4 px-lg-5"><div class="small text-center text-muted">Copyright &copy; 2023 - Tiffany &Co</div></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- SimpleLightbox plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>
