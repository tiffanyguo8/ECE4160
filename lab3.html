<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Tiffany's Lab 3</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap Icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
        <!-- SimpleLightbox plugin CSS-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <link rel=stylesheet href="bootstrap.min.css">
        <style>
        body {
          background-image: url('../assets/img/Grid_paper.webp');
          background-repeat: no-repeat;
          background-attachment: fixed; 
          background-size: cover;
        }
        </style>
    </head>
    <body id="page-top">
          
        <!-- About-->
        <section class="page-section bg-warning" id="about">
            <p style="background-image: url('../assets/img/Grid_paper.webp');">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 text-center">
                        <h2> Lab 3: Time of Flight Sensors</h2>
                        <hr class="divider divider-light" />
                        <p> In our third lab, we solder the time of flight sensors to the Artemis board and create a software framework
                          for collection of distance data. </p>
                        
                        <div class="card">
                          <div class="card-body">
                            <h4 class="card-title">Prelab</h4>
                            <p class="card-text">Using the Example1_wire_I2C example code, I printed the I2C sensor address:</p>
                              
                              <img src="assets/img/TOF_address.png" alt="TOF sensor address" width=70% height=auto/>
                              <br><br>
                            <p class="card-text">
                                Since the address of both sensors are originally 0x29, I change the address of one sensor during setup so that
                                the Artemis can differentiate between the two. Another possible method is to alternate shutting down one sensor
                                at a time whenever you need to take a reading from the other sensor, but this is risky since the sensors may take
                                more time to start up every time. I decided to solder the SHUTX pin of one sensor to pin 8 of my Artemis board,
                                which I then used to shut off the corresponding sensor during setup and change the address of the other sensor. I
                                then turned the first sensor back on, leaving two sensors able to work simultaneously with different addresses. </p> 
                                <br>
                              
                            <p class="card-text">
                                Since we are given 2 time of flight sensors, one will be placed on the front of the robot
                                while the other will be on the side. This configuration allows the robot to gather distance information in the 
                                x and y axes, which will help in mapping out the obstacles in an area. </p>
                          </div>
                        </div>
                        <br>
                        <div class="card mb-3">
                          <h3 class="card-header">Lab</h3>
                          <div class="card-body">
                            <h5 class="card-title">ToF sensors and QWIIC breakout board connections:t</h5>
                            <img src="assets/img/TOF_connection.jpg" alt="TOF connections" width=70% height=auto/>
                          </div>
                          
                          <div class="card-body">
                            <p class="card-text">I chose to set the ToF sensors to short mode, since the range of short mode (up to 1.3m) is enough
                              for the purposes of our robot to scan its surroundings. Sacrificing the extra range allows the sensors to be more
                              accurate regardless of the ambient lighting. </p>
                          </div>
                          <ul class="list-group list-group-flush">
                            <li class="list-group-item">2 ToF sensors working in parallel:</li>
                              <iframe width="560" height="315" src="https://www.youtube.com/embed/ZLLR_Xxd574" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                <p class="card-text">Since I changed the address of one of the sensors during setup, there was no problem
                              reading from two sensors in parallel.</p>
                            <li class="list-group-item">ToF sensor speed:</li>
                              <iframe width="560" height="315" src="https://www.youtube.com/embed/Ee4Iy_cQ3P0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                <p class="card-text">I got around 290ms between readings using this code:</p>
                                <img src="assets/img/TOF_code.png" alt="TOF speed code" width=70% height=auto/>
                                <p class="card-text">The limiting factor for the sensor speed is the ranging time. This value can be manipulated
                              by the user, but the tradeoff for a lower ranging time is the possibility of less accurate distance data. </p>
                            <li class="list-group-item">Distance vs Time:</li>
                              <iframe width="560" height="315" src="https://www.youtube.com/embed/ryRVmpvJ-Hs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                <img src="assets/img/Distance_vs_Time.png" alt="Distance vs Time" width=70% height=auto/>
                          </ul>
                        </div>
                        
                        <br>
                        <div class="d-grid gap-2">
                           <a class="btn btn-lg btn-primary" href="index.html">Home</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
            
        <!-- Footer-->
        <footer class="bg-light py-5">
            <div class="container px-4 px-lg-5"><div class="small text-center text-muted">Copyright &copy; 2023 - Tiffany &Co</div></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- SimpleLightbox plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>
